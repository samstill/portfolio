import{r as t,b as A,j as e,L as u,s as E,c as F}from"./index-I4BBwYdS.js";import{l as I,m as P,b as B}from"./index-DjBvL98p.js";import{D as C,c as m}from"./index-Cl0ZZ_yY.js";import{B as T}from"./BackButton-Cfbj4dkC.js";import{A as D,a as R,b as W,c as q,T as z,F as M,I as p,L as h,d as x,e as g,f as j,B as G,E as N,g as y}from"./AuthStyles-BlLZRVpG.js";import{m as f}from"./proxy-DMLGpHM7.js";import{A as U}from"./index-C2QpgPxn.js";import"./iconBase-VHV16drN.js";const Z=()=>{const[r,w]=t.useState(""),[n,v]=t.useState(""),[o,l]=t.useState(""),[i,d]=t.useState(!1),[c,b]=t.useState(!1),S=A(),L=async a=>{a.preventDefault(),l(""),d(!0);try{await E(F,r,n),b(!0),m.success("Login successful!"),setTimeout(()=>{S("/events")},1e3)}catch(k){let s="Failed to log in.";switch(k.code){case"auth/user-not-found":case"auth/wrong-password":s="Invalid email or password.";break;case"auth/invalid-email":s="Please enter a valid email address.";break;case"auth/too-many-requests":s="Too many attempts. Please try again later.";break;case"auth/user-disabled":s="This account has been disabled.";break;default:s="Failed to log in. Please try again."}l(s),m.error(s)}finally{d(!1)}};return i||c?e.jsx(D,{text:c?"Redirecting to events...":"Signing in..."}):e.jsxs(R,{children:[e.jsx(C,{position:"top-right"}),e.jsxs(W,{children:[e.jsx(T,{}),e.jsxs(q,{as:f.div,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[e.jsx(z,{children:"Welcome Back"}),e.jsxs(M,{onSubmit:L,children:[e.jsxs(p,{children:[e.jsx(h,{htmlFor:"email",children:"Email Address"}),e.jsxs(x,{children:[e.jsx(g,{children:e.jsx(I,{size:20})}),e.jsx(j,{id:"email",type:"email",placeholder:"Enter your email",value:r,onChange:a=>w(a.target.value),required:!0,autoComplete:"email"})]})]}),e.jsxs(p,{children:[e.jsx(h,{htmlFor:"password",children:"Password"}),e.jsxs(x,{children:[e.jsx(g,{children:e.jsx(P,{size:20})}),e.jsx(j,{id:"password",type:"password",placeholder:"Enter your password",value:n,onChange:a=>v(a.target.value),required:!0,autoComplete:"current-password"})]})]}),e.jsxs(G,{type:"submit",disabled:i,children:[e.jsx(B,{size:20}),i?"Signing in...":"Sign In"]}),e.jsx(U,{mode:"wait",children:o&&e.jsx(N,{as:f.div,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:o})})]}),e.jsx(y,{children:e.jsx(u,{to:"/reset-password",children:"Forgot Password?"})}),e.jsxs(y,{children:["Don't have an account? ",e.jsx(u,{to:"/signup",children:"Sign Up"})]})]})]})]})};export{Z as default};
