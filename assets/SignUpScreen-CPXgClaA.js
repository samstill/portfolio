import{r,b as F,j as e,L as I,e as L,c as B}from"./index-I4BBwYdS.js";import{l as U,m as g,d as z}from"./index-DjBvL98p.js";import{D as q,c}from"./index-Cl0ZZ_yY.js";import{B as D}from"./BackButton-Cfbj4dkC.js";import{A as M,a as R,b as T,c as W,T as G,F as N,I as l,L as d,d as u,e as p,f as m,B as H,E as J,g as K}from"./AuthStyles-BlLZRVpG.js";import{m as f}from"./proxy-DMLGpHM7.js";import{A as O}from"./index-C2QpgPxn.js";import"./iconBase-VHV16drN.js";const se=()=>{const[h,P]=r.useState(""),[t,v]=r.useState(""),[x,A]=r.useState(""),[j,o]=r.useState(""),[i,w]=r.useState(!1),[y,C]=r.useState(!1),S=F(),b=()=>t.length<6?"Password must be at least 6 characters long":t!==x?"Passwords do not match":null,E=async s=>{s.preventDefault(),o("");const n=b();if(n){o(n),c.error(n);return}w(!0);try{await L(B,h,t),C(!0),c.success("Account created successfully!"),setTimeout(()=>{S("/events")},1e3)}catch(k){let a="Failed to create account.";switch(k.code){case"auth/email-already-in-use":a="An account with this email already exists.";break;case"auth/invalid-email":a="Please enter a valid email address.";break;case"auth/operation-not-allowed":a="Email/password accounts are not enabled. Please contact support.";break;case"auth/weak-password":a="Please choose a stronger password.";break;default:a="Failed to create account. Please try again."}o(a),c.error(a)}finally{w(!1)}};return i||y?e.jsx(M,{text:y?"Setting up your account...":"Creating your account..."}):e.jsxs(R,{children:[e.jsx(q,{position:"top-right"}),e.jsxs(T,{children:[e.jsx(D,{}),e.jsxs(W,{as:f.div,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[e.jsx(G,{children:"Create Account"}),e.jsxs(N,{onSubmit:E,children:[e.jsxs(l,{children:[e.jsx(d,{htmlFor:"email",children:"Email Address"}),e.jsxs(u,{children:[e.jsx(p,{children:e.jsx(U,{size:20})}),e.jsx(m,{id:"email",type:"email",placeholder:"Enter your email",value:h,onChange:s=>P(s.target.value),required:!0,autoComplete:"email"})]})]}),e.jsxs(l,{children:[e.jsx(d,{htmlFor:"password",children:"Password"}),e.jsxs(u,{children:[e.jsx(p,{children:e.jsx(g,{size:20})}),e.jsx(m,{id:"password",type:"password",placeholder:"Enter your password",value:t,onChange:s=>v(s.target.value),required:!0,autoComplete:"new-password"})]})]}),e.jsxs(l,{children:[e.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs(u,{children:[e.jsx(p,{children:e.jsx(g,{size:20})}),e.jsx(m,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:x,onChange:s=>A(s.target.value),required:!0,autoComplete:"new-password"})]})]}),e.jsxs(H,{type:"submit",disabled:i,children:[e.jsx(z,{size:20}),i?"Creating Account...":"Sign Up"]}),e.jsx(O,{mode:"wait",children:j&&e.jsx(J,{as:f.div,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:j})})]}),e.jsxs(K,{children:["Already have an account? ",e.jsx(I,{to:"/login",children:"Sign In"})]})]})]})]})};export{se as default};
